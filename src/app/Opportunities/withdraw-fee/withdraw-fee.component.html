<div class="container">
    <div class="crypto-title">
        <h3>Taxas de Saque</h3>
    </div>
    <div class="table" [hidden]="withdrawFees.length == 0">
        <table mat-table [dataSource]="dsWithdrawFees">
            <ng-container matColumnDef="exchange">
                <th mat-header-cell *matHeaderCellDef>Corretora</th>
                <td mat-cell *matCellDef="let withdrawFee">
                    <a href="{{ withdrawFee.exchange?.url }}" target="_blank">
                        <img src="../../../assets/Exchanges/{{
                            withdrawFee.exchange?.name
                          }}.svg" width="30px" />
                    </a>
                </td>
            </ng-container>

            <ng-container matColumnDef="network">
                <th mat-header-cell *matHeaderCellDef>Rede</th>
                <td mat-cell *matCellDef="let withdrawFee">
                    {{ withdrawFee.networkCode }}
                </td>
            </ng-container>

            <ng-container matColumnDef="fee">
                <th mat-header-cell *matHeaderCellDef>Taxa</th>
                <td mat-cell *matCellDef="let withdrawFee">
                    {{ withdrawFee.fee }}
                </td>
            </ng-container>

            <ng-container matColumnDef="feeValue">
                <th mat-header-cell *matHeaderCellDef>Valor Taxa</th>
                <td mat-cell *matCellDef="let withdrawFee">
                    {{ withdrawFee.fee * data.value | currency : "BRL" : "symbol" : "1.2-2" }}
                </td>
            </ng-container>

            <ng-container matColumnDef="minWithdraw">
                <th mat-header-cell *matHeaderCellDef>Saque Mínimo</th>
                <td mat-cell *matCellDef="let withdrawFee">
                    {{ withdrawFee.minWithdraw }}
                </td>
            </ng-container>

            <ng-container matColumnDef="maxWithdraw">
                <th mat-header-cell *matHeaderCellDef>Saque Máximo</th>
                <td mat-cell *matCellDef="let withdrawFee">
                    {{ withdrawFee.maxWithdraw != '1.7976931348623157e308' ? withdrawFee.maxWithdraw : 'Sem limite' }}
                </td>
            </ng-container>

            <ng-container matColumnDef="depositEnable">
                <th mat-header-cell *matHeaderCellDef>Depósito Ativo</th>
                <td mat-cell *matCellDef="let withdrawFee">
                    <mat-icon [color]="withdrawFee.depositEnable == true ? 'primary' : 'accent'">{{
                        withdrawFee.depositEnable == true ? 'check_circle' : 'close' }}</mat-icon>
                </td>
            </ng-container>

            <ng-container matColumnDef="tradingEnable">
                <th mat-header-cell *matHeaderCellDef>Trade Ativo</th>
                <td mat-cell *matCellDef="let withdrawFee">
                    <mat-icon [color]="withdrawFee.tradingEnable == true ? 'primary' : 'accent'">{{
                        withdrawFee.tradingEnable == true ? 'check_circle' : 'close'}}</mat-icon>
                </td>
            </ng-container>

            <ng-container matColumnDef="withdrawEnable">
                <th mat-header-cell *matHeaderCellDef>Saque Ativo</th>
                <td mat-cell *matCellDef="let withdrawFee">
                    <mat-icon [color]="withdrawFee.withdrawEnable == true ? 'primary' : 'accent'">{{
                        withdrawFee.withdrawEnable == true ? 'check_circle' : 'close'}}</mat-icon>
                </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns" [ngClass]="{
              'green-row': row.exchange?.id === data.exchangeToBuyId,
              'red-row': row.exchange?.id !== data.exchangeToBuyId
            }"></tr>
        </table>
    </div>
    <div style="color: white;" *ngIf="commonNetworkCodes == 0">
        <mat-icon color="warn">error_outline</mat-icon>
        <p>Redes iguais podem não estarem disponíveis</p>
        <p>
            <i>Avalie nas corretoras</i>
        </p>
    </div>
    <app-loading [hidden]="withdrawFees.length > 0">
    </app-loading>
</div>